// Generated by CoffeeScript 1.9.3
var InputSolver, SolutionService,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

InputSolver = require('./InputSolver');

SolutionService = (function() {
  function SolutionService(board, goals) {
    var g, i, len;
    this.board = board;
    this.goals = [];
    for (i = 0, len = goals.length; i < len; i++) {
      g = goals[i];
      this.goals.push(g);
    }
  }

  SolutionService.prototype.isSolution = function(clickedCells) {
    var solution, value;
    if (!((clickedCells != null) && clickedCells.length >= 3)) {
      return false;
    }
    solution = this.getSolutionString(clickedCells);
    value = InputSolver.compute(solution);
    if (indexOf.call(this.goals, value) < 0) {
      return false;
    }
    this.goals.splice(this.goals.indexOf(value), 1);
    return true;
  };

  SolutionService.prototype.getSolutionString = function(cells) {
    var c, i, len, solution;
    solution = '';
    for (i = 0, len = cells.length; i < len; i++) {
      c = cells[i];
      solution += this.board.boardValues[c.row][c.col];
    }
    return solution;
  };

  return SolutionService;

})();

module.exports = SolutionService;
